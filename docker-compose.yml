version: '3'

services:
  # --- åç«¯æœåŠ¡ (Python Flask) ---
  backend:
    # æŒ‡å®šå» backend æ–‡ä»¶å¤¹æ„å»ºé•œåƒ
    build: ./backend
    container_name: monitor-backend
    ports:
      - "5000:5000"
    volumes:
<<<<<<< HEAD
=======
      # ğŸ”´ å…³é”®ä¿®æ­£ï¼š
>>>>>>> 5a0e02ac8f6b4033eccb2042383ceefa4d2642d6
      # åªæŒ‚è½½ data ç›®å½•ç”¨æ¥å­˜æ•°æ®åº“ï¼Œåƒä¸‡ä¸è¦æŒ‚è½½åˆ° /app
      # å¦åˆ™å®¿ä¸»æœºçš„ç©ºæ–‡ä»¶å¤¹ä¼šæŠŠå®¹å™¨é‡Œçš„ä»£ç æ–‡ä»¶è¦†ç›–æ‰ï¼
      - ./backend_data:/app/data
    restart: always

  # --- å‰ç«¯æœåŠ¡ (Nginx) ---
  frontend:
    # æŒ‡å®šå» frontend æ–‡ä»¶å¤¹æ„å»ºé•œåƒ
    build: ./frontend
    container_name: monitor-frontend
    ports:
      - "8080:80"  # æµè§ˆå™¨è®¿é—® 8080
    depends_on:
      - backend
    restart: always